# This file was created by the command:
# steps/nnet3/xconfig_to_configs.py --xconfig-file exp/xvector_nnet_1a//configs/network.xconfig --config-dir exp/xvector_nnet_1a//configs/
# It is a copy of the source from which the config files in # this directory were generated.

# please note that it is important to have input layer with the name=input

# The frame-level layers
input dim=23 name=input
relu-batchnorm-layer name=tdnn1 input=Append(-2,-1,0,1,2) dim=512
relu-batchnorm-layer name=tdnn2 input=Append(-2,0,2) dim=512
relu-batchnorm-layer name=tdnn3 input=Append(-3,0,3) dim=512
relu-batchnorm-layer name=tdnn4 dim=512
relu-batchnorm-layer name=tdnn5 dim=1500

# The stats pooling layer. Layers after this are segment-level.
# In the config below, the first and last argument (0, and 400)
# means that we pool over an input segment starting at frame 0
# and ending at frame 400 or earlier.  The other arguments (1:1)
# mean that no subsampling is performed.
stats-layer name=stats config=mean+stddev(0:1:1:400)

# This is where we usually extract the embedding (aka xvector) from.
relu-batchnorm-layer name=tdnn6 dim=128 input=stats
output-layer name=output include-log-softmax=true dim=5164
